(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10,9],{60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.confirmAlert=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(t);var r=document.createElementNS(e,"svg");r.setAttribute("id","react-confirm-alert-firm-svg"),r.setAttribute("class","react-confirm-alert-svg"),r.appendChild(n),document.body.appendChild(r)}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,i.render)(l.default.createElement(p,e),t)}(e)};var s=n(0),l=u(s),c=u(n(61)),i=n(17);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=(o=r=function(e){function t(){var e,n,r;d(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClickButton=function(e){e.onClick&&e.onClick(),r.close()},r.handleClickOverlay=function(e){var t=r.props,n=t.closeOnClickOutside,o=t.onClickOutside,a=e.target===r.overlay;n&&a&&(o(),r.close())},r.close=function(){var e=r.props.afterClose;y(),b(),f(e)},r.keyboardClose=function(e){var t=r.props,n=t.closeOnEscape,o=t.onKeypressEscape,a=27===e.keyCode;n&&a&&(o(e),r.close())},r.componentDidMount=function(){document.addEventListener("keydown",r.keyboardClose,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.keyboardClose,!1),r.props.willUnmount()},r.renderCustomUI=function(){var e=r.props,t=e.title,n=e.message,o=e.buttons;return(0,e.customUI)({title:t,message:n,buttons:o,onClose:r.close})},m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.message,o=t.buttons,a=t.childrenElement,s=t.customUI;return l.default.createElement("div",{className:"react-confirm-alert-overlay",ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},l.default.createElement("div",{className:"react-confirm-alert"},s?this.renderCustomUI():l.default.createElement("div",{className:"react-confirm-alert-body"},n&&l.default.createElement("h1",null,n),r,a(),l.default.createElement("div",{className:"react-confirm-alert-button-group"},o.map((function(t,n){return l.default.createElement("button",{key:n,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(s.Component),r.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func},r.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},o);function f(e){var t=document.getElementById("react-confirm-alert-firm-svg");t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function b(){var e=document.getElementById("react-confirm-alert");e&&((0,i.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}function y(){document.body.classList.remove("react-confirm-alert-body-element")}t.default=p},61:function(e,t,n){e.exports=n(62)()},62:function(e,t,n){"use strict";var r=n(63);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,s){if(s!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},63:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},64:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n(14),a=n(9),s=n(16),l=n(15),c=n(0),i=n.n(c),u=n(6),d=n(60),m=(n(64),n(41)),p=n.n(m),f=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,125))})),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASEURL||"http://localhost:5000",y=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).state={post:{},isLoggedIn:!1,readingTime:0},o.deletePost=o.deletePost.bind(Object(a.a)(o)),o.confirmDelete=o.confirmDelete.bind(Object(a.a)(o)),o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.post||p.a.get("".concat(b,"/server/posts/").concat(this.props.match.params.id)).then((function(t){if(e.setState({post:t.data}),e.state.post){var n=e.state.post.body.split(" ").length;if(n){var r=Math.floor(n/200);e.setState({readingTime:r})}}document.querySelector(".spinner-border").style.display="none",document.querySelector(".post").style.display="block"})).catch((function(e){return console.error(e)}))}},{key:"componentDidUpdate",value:function(){"true"===sessionStorage.getItem("isLoggedIn")&&this.state.post.author===sessionStorage.getItem("username")&&this.setState((function(e){if(!e.isLoggedIn)return{isLoggedIn:!0}}))}},{key:"confirmDelete",value:function(e){var t=this;Object(d.confirmAlert)({title:"Confirm to delete this post.",message:"Are you sure you want to do this?",buttons:[{label:"YES",onClick:function(){return t.deletePost(e)}},{label:"NO  ",onClick:function(){return console.log("NO! I don't want to delete this magnificant piece of art!")}}]})}},{key:"deletePost",value:function(e){p.a.delete("".concat(b,"/server/posts/").concat(e)).then((function(e){return console.log(e.data)})).catch((function(e){return console.error(e)})),window.location="/posts"}},{key:"render",value:function(){var e=this;if(this.props.post){var t=new Date(this.props.post.date).toDateString(),n=t.substring(4,10),r=t.substring(10),o="".concat(n,",").concat(r);return i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement(u.b,{to:"/posts/"+this.props.post._id},i.a.createElement("h4",{className:"post-title"},this.props.post.title),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.post.body.substring(0,400).trim()+"..."}}),i.a.createElement("small",null,i.a.createElement("time",null,i.a.createElement("div",null,i.a.createElement("span",null,"Published on "),o))),i.a.createElement("br",null))))}var a=new Date(this.state.post.date).toDateString(),s=a.substring(4,10),l=a.substring(10),d="".concat(s,",").concat(l);return i.a.createElement("div",null,i.a.createElement("div",{className:"spinner-container"},i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("div",{className:"post",style:{display:"none"}},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h3",{className:"post-title"},this.state.post.title),i.a.createElement("time",null,i.a.createElement("div",null,i.a.createElement("span",null,"Published on "),d),i.a.createElement("span",{className:"read-time"},"~ ",this.state.readingTime," min read")),i.a.createElement("div",{className:"post-body",dangerouslySetInnerHTML:{__html:this.state.post.body}}),this.state.isLoggedIn?i.a.createElement("span",null,i.a.createElement(u.b,{to:"/posts/".concat(this.state.post._id,"/edit"),className:"btn btn-outline-primary"},"Edit")," ",i.a.createElement("button",{onClick:function(){return e.confirmDelete(e.state.post._id)},className:"btn btn-outline-danger"},"Delete")):" ")),i.a.createElement(c.Suspense,{fallback:i.a.createElement("div",{className:"spinner-container"},i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))},i.a.createElement(f,{post:this.state.post}))))}}]),n}(c.Component);t.default=y}}]);
//# sourceMappingURL=10.3eb29205.chunk.js.map