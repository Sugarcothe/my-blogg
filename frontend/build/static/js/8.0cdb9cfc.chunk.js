(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{113:function(t,e){},122:function(t,e){},222:function(t,e,a){"use strict";a.r(e);var n=a(93),o=a(13),i=a(14),s=a(9),l=a(16),r=a(15),c=a(0),d=a.n(c),u=a(41),m=a.n(u),h=a(94),b=a.n(h),p=a(97),E=a.n(p),g=a(102),f=a.n(g),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASEURL||"http://localhost:5000",y=function(t){Object(l.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={title:"",body:"",author:"",date:"",isLoggedIn:!1},n.handleChange=n.handleChange.bind(Object(s.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(s.a)(n)),n.handleEditorChange=n.handleEditorChange.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;m.a.get("".concat(v,"/server/posts/").concat(this.props.match.params.id)).then((function(e){t.setState({title:e.data.title,body:e.data.body,author:e.data.author,date:e.data.date,comments:e.data.comments})})).catch((function(t){return console.error(t)})),"true"===sessionStorage.getItem("isLoggedIn")&&this.setState({isLoggedIn:!0})}},{key:"handleEditorChange",value:function(t,e){this.setState({body:e.getData()})}},{key:"handleChange",value:function(t){var e=t.target,a=e.name,o=e.value;this.setState(Object(n.a)({},a,o))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),document.querySelector(".spinner-container").style.display="flexbox";var a=f()(this.state.body);this.setState({body:a});var n={title:this.state.title,author:this.state.author,body:this.state.body,date:this.state.date,comments:this.state.comments};m.a.post("".concat(v,"/server/posts/edit/").concat(this.props.match.params.id),n).then((function(t){return window.location="/posts/".concat(e.props.match.params.id)})).catch((function(t){return console.error(t)}))}},{key:"render",value:function(){return this.state.isLoggedIn?d.a.createElement("div",null,d.a.createElement("div",{className:"spinner-container",style:{display:"none"}},d.a.createElement("div",{className:"spinner-border",role:"status"},d.a.createElement("span",{className:"sr-only"},"Loading..."))),d.a.createElement("div",{className:"edit-post"},d.a.createElement("h1",null,"Edit Blog Post",d.a.createElement("span",{className:"full-stop"},".")),d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{className:"edit-title"},"Title: "),d.a.createElement("input",{className:"form-control edit-title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,required:!0})),d.a.createElement("div",null,d.a.createElement(b.a,{editor:E.a,data:this.state.body,onChange:this.handleEditorChange,config:{toolbar:["Heading","|","Bold","Italic","Link","NumberedList","BulletedList","|","BlockQuote","MediaEmbed","Undo","Redo"]}})),d.a.createElement("br",null),d.a.createElement("div",{className:"form-group"},d.a.createElement("input",{type:"submit",value:"Submit Post",className:"btn btn-outline-primary btn-lg"}))))):d.a.createElement("div",{className:"alert alert-warning",role:"alert",onClick:function(){return window.location="/login"}},"You need to login to edit your post!",d.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},d.a.createElement("span",{"aria-hidden":"true",className:"alert-close"},"\xd7"," ")))}}]),a}(c.Component);e.default=y},56:function(t,e){},57:function(t,e){},75:function(t,e){},78:function(t,e){}}]);
//# sourceMappingURL=8.0cdb9cfc.chunk.js.map